function applyWallpaper(e){let t=document.createElement("div");t.id="dynamic-background",t.style.backgroundImage=`url(${e})`,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="-2",t.style.backgroundSize="cover",t.style.backgroundPosition="center",t.style.backgroundRepeat="no-repeat",t.style.opacity="0.3",t.style.transition="opacity 1s ease",document.body.prepend(t),setTimeout(()=>{t.style.opacity="0.5"},100)}function useDefaultWallpaper(){applyWallpaper("/img/bg/bg.jpg")}document.addEventListener("DOMContentLoaded",function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);fetch(e?"https://api.btstu.cn/sjbz/api.php?lx=m_dongman&format=json":"https://api.btstu.cn/sjbz/api.php?lx=dongman&format=json").then(e=>e.json()).then(e=>{e&&e.imgurl?applyWallpaper(e.imgurl):(console.error("Failed to load wallpaper from API"),useDefaultWallpaper())}).catch(e=>{console.error("Error fetching wallpaper:",e),useDefaultWallpaper()})});