(()=>{let a={jsdelivr:{js:"https://cdn.jsdelivr.net/npm/",css:"https://cdn.jsdelivr.net/npm/",font:"https://cdn.jsdelivr.net/npm/"},unpkg:{js:"https://unpkg.com/",css:"https://unpkg.com/",font:"https://unpkg.com/"},npmmirror:{js:"https://registry.npmmirror.com/",css:"https://registry.npmmirror.com/",font:"https://registry.npmmirror.com/"}};async function e(){var e=await(()=>{let i=["https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js","https://unpkg.com/jquery@3.6.0/dist/jquery.min.js","https://registry.npmmirror.com/jquery/latest/files/dist/jquery.min.js"];return new Promise(n=>{let o="jsdelivr",c=0;i.forEach((e,t)=>{let r=Date.now();var s=new Image;s.onload=s.onerror=()=>{Date.now()-r<1e3&&(o=Object.keys(a)[t]),++c===i.length&&n(o)},s.src=e+"?_="+Date.now()}),setTimeout(()=>n("jsdelivr"),3e3)})})();console.log("使用CDN源:",e),localStorage.setItem("preferred_cdn",e)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e(),document.addEventListener("DOMContentLoaded",()=>{var e=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){let r=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&((e=e.target).src=e.dataset.src,e.classList.remove("lazy"),r.unobserve(e))})});e.forEach(e=>r.observe(e))}else e.forEach(e=>{e.src=e.dataset.src});["/css/main.css","/js/next-boot.js"].forEach(e=>{var t=document.createElement("link");t.rel="preload",t.href=e,t.as=e.endsWith(".css")?"style":"script",document.head.appendChild(t)})})})();